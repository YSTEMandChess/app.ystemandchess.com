!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("agora-rtc-sdk")):"function"==typeof define&&define.amd?define("ngx-agora",["exports","@angular/core","agora-rtc-sdk"],t):t((e=e||self)["ngx-agora"]={},e.ng.core,e.AgoraRTC)}(this,(function(e,t,i){"use strict";var r=function(){function e(t){this.config=t,this.audioDevices=[],this.videoDevices=[],this.AgoraRTC=e.AgoraRTC,this.checkSystemRequirements()?this.collectDevices():this.AgoraRTC.Logger.error("Web RTC is not supported in this browser")}return e.prototype.checkSystemRequirements=function(){return this.AgoraRTC.checkSystemRequirements()},e.prototype.createClient=function(e,t,i,r){return void 0===t&&(t=!0),this.client=this.AgoraRTC.createClient(e),t&&this.init(this.config.AppID,i,r),this.client},e.prototype.createStream=function(e){if(!e.microphoneId&&this.audioDevices&&this.audioDevices.length){var t=this.audioDevices[0].deviceId;e.microphoneId=t}if(!e.cameraId&&this.videoDevices&&this.videoDevices.length){var i=this.videoDevices[0].deviceId;e.cameraId=e.cameraId||i}return this.AgoraRTC.createStream(e)},e.prototype.init=function(e,t,i){this.client.init(e,t,i)},e.prototype.collectDevices=function(){var e=this;this.AgoraRTC.getDevices((function(t){var i=t.filter((function(e){return"audioinput"===e.kind&&"default"!==e.deviceId})),r=t.filter((function(e){return"videoinput"===e.kind&&"default"!==e.deviceId}));e.audioDevices=i,e.videoDevices=r}))},e.AgoraRTC=i,e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:["config"]}]}]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject("config"))},token:e,providedIn:"root"}),e}();var n=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"lib-ngx-agora",template:"\n    <p>\n      ngx-agora works!\n    </p>\n  "}]}],e.ctorParameters=function(){return[]},e}(),o=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[r,{provide:"config",useValue:t}]}},e.decorators=[{type:t.NgModule,args:[{declarations:[n],exports:[n]}]}],e}();var a={RELAY_OK:0,SERVER_ERROR_RESPONSE:1,SERVER_NO_RESPONSE:2,NO_RESOURCE_AVAILABLE:3,FAILED_JOIN_SRC:4,FAILED_JOIN_DEST:5,FAILED_PACKET_RECEIVED_FROM_SRC:6,FAILED_PACKET_SENT_TO_DEST:7,SERVER_CONNECTION_LOST:8,INTERNAL_ERROR:9,SRC_TOKEN_EXPIRED:10,DEST_TOKEN_EXPIRED:11,RELAY_ALREADY_START:12,RELAY_NOT_START:13};a[a.RELAY_OK]="RELAY_OK",a[a.SERVER_ERROR_RESPONSE]="SERVER_ERROR_RESPONSE",a[a.SERVER_NO_RESPONSE]="SERVER_NO_RESPONSE",a[a.NO_RESOURCE_AVAILABLE]="NO_RESOURCE_AVAILABLE",a[a.FAILED_JOIN_SRC]="FAILED_JOIN_SRC",a[a.FAILED_JOIN_DEST]="FAILED_JOIN_DEST",a[a.FAILED_PACKET_RECEIVED_FROM_SRC]="FAILED_PACKET_RECEIVED_FROM_SRC",a[a.FAILED_PACKET_SENT_TO_DEST]="FAILED_PACKET_SENT_TO_DEST",a[a.SERVER_CONNECTION_LOST]="SERVER_CONNECTION_LOST",a[a.INTERNAL_ERROR]="INTERNAL_ERROR",a[a.SRC_TOKEN_EXPIRED]="SRC_TOKEN_EXPIRED",a[a.DEST_TOKEN_EXPIRED]="DEST_TOKEN_EXPIRED",a[a.RELAY_ALREADY_START]="RELAY_ALREADY_START",a[a.RELAY_NOT_START]="RELAY_NOT_START";var d={Debug:0,Info:1,Warning:2,Error:3,None:4};d[d.Debug]="Debug",d[d.Info]="Info",d[d.Warning]="Warning",d[d.Error]="Error",d[d.None]="None";e.ChannelMediaMessage=a,e.ClientEvent={FirstAudioFrameDecoded:"first-audio-frame-decode",FirstVideoFrameDecoded:"first-video-frame-decode",LocalStreamPublished:"stream-published",RemoteStreamAdded:"stream-added",RemoteStreamRemoved:"stream-removed",RemoteStreamSubscribed:"stream-subscribed",PeerLeave:"peer-leave",PeerOnline:"peer-online",RemoteAudioMuted:"mute-audio",RemoteAudioUnmuted:"unmute-audio",RemoveVideoMuted:"mute-video",RemoteVideoUnmuted:"unmute-video",CryptError:"crypt-error",LocalClientBanned:"client-banned",ActiveSpeaker:"active-speaker",VolumeIndicator:"volume-indicator",LiveStreamingStarted:"liveStreamingStarted",LiveStreamingFailed:"liveStreamingFailed",LiveStreamingStopped:"liveStreamingStopped",LiveTranscodingUpdated:"liveTranscodingUpdated",StreamInjectedStatusUpdated:"streamInjectedStatus",TokenPrivelegeWillExpire:"onTokenPrivilegeWillExpire",TokenPrivelegeExpired:"onTokenPrivilegeDidExpire",Error:"error",NetworkTypeChanged:"network-type-changed",RecordingDeviceChanged:"recording-device-changed",AudioOutputDeviceChanged:"playout-device-changed",CameraChanged:"camera-changed",StreamTypeChanged:"stream-type-changed",ConnectionStateChanged:"connection-state-change",StreamReconnectionStart:"stream-reconnect-start",StreamReconnectionEnd:"stream-reconnect-end",ClientRoleChanged:"client-role-changed",NetworkQualityReported:"network-quality",StreamFallback:"stream-fallback",StreamUpdated:"stream-updated",Exception:"exception",RemoteVideoCaptureEnabled:"enable-local-video",RemoteVideoCaptureDisabled:"disable-local-video",MediaStreamEventRelayed:"channel-media-relay-event",MediaStreamRelayStateChanged:"channel-media-relay-state"},e.CodecType={Opus:"1",AAC:"2"},e.LogLevel=d,e.MuteState={Unmuted:"0",Muted:"1"},e.NgxAgoraModule=o,e.NgxAgoraService=r,e.StreamEvent={MediaAccessAllowed:"accessAllowed",MediaAccessDenied:"accessDenied",ScreenSharingStopped:"stopScreenSharing",VideoTrackEnded:"videoTrackEnded",AudioTrackEnded:"audioTrackEnded",AudioMixingPlayed:"audioMixingPlayed",AudioMixingFinished:"audioMixingFinished",StreamPlaybackStatusChanged:"player-status-change"},e.ɵb=n,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-agora.umd.min.js.map